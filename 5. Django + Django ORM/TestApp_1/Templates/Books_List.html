<!DOCTYPE html>
<html>
<head>
    <title>Книги</title>
    <style>
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>Список книг</h1>

    <table>
        <tr>
            <th>Название</th>
            <th>Автор</th>
            <th>Дата публикации</th>
            <th>Цена</th>
            <th>Скидка</th>
            <th>Отзывов</th>
        </tr>
        {% for book in books %}
        <tr>
            <td>{{ book.title }}</td>
            <td>{{ book.author.first_name }} {{ book.author.last_name }}</td>
            <td>{{ book.published_date|date:"d.m.Y" }}</td>
            <td>{{ book.price }}</td>
            <td>{{ book.discount }}</td>
            <td>{{ book.reviews.count }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6">Книги не найдены</td>
        </tr>
        {% endfor %}
    </table>

    <p>Всего книг: {{ books.count }}</p>
</body>
</html>